// pages/Evaluation/paper/paper.js
Component({
  /**
   * ç»„ä»¶çš„å±æ€§åˆ—è¡¨
   */
  properties: {

  },

  /**
   * ç»„ä»¶çš„åˆå§‹æ•°æ®
   */
  data: {
    scaleFinish:   false,
    profileFinish: false,
    title: "",

    radio: 0,
    answer:[],
    group :[],
    nowPageIndex:0,
    twentyOneAnswer : [],
    question:[],
    scaleFinishStop: false,
    claim:'',

    finishDialogShow: false,
    finishButtons: [{text: 'å–æ¶ˆ'}, {text: 'ç¡®å®š'}],
    finishDialogContent:"",
    finishDialogTitle:"",

    genderItems: [
      {name: 'ç”·', value: 'ç”·', checked: false},
      {name: 'å¥³', value: 'å¥³'}
    ],
    formData: {
      age: '',
      gender: '',
      education: '',
      childOnly: '',
    },
    educations: ["å°å­¦", "åˆä¸­", "é«˜ä¸­","æœ¬ç§‘","ç¡•å£«","åšå£«"],
    educationIndex: -1,
    childOnlyItems: [
      {name: 'æ˜¯', value: 'æ˜¯', checked: false},
      {name: 'å¦', value: 'å¦'}
    ],
    testData:'ğŸ”¸ä½ <center>çš„æµ‹è¯•ç»“æœ</center>è¡¨æ˜ä½ å½“å‰å¤„äº<strong>è½»åº¦æŠ‘éƒ</strong>çŠ¶æ€ï¼Œåœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œä½ ç»å¸¸ä¼šçº ç»“äºç”Ÿæ´»ä¸­ä¸å¥½çš„äº‹æƒ…ï¼Œå¯¹è‡ªå·±å’Œç”Ÿæ´»æ²¡æœ‰ä¿¡å¿ƒï¼Œæ„§ç–šã€å¤šç–‘ï¼Œæ€»æ˜¯å°†å¤–ç•Œçš„æ•Œæ„æˆ–è¿‡é”™å½’åˆ°è‡ªå·±èº«ä¸Šã€‚ç™½å¤©å­¦ä¹ æˆ–å·¥ä½œçš„æ—¶å€™ï¼Œä½ å¯èƒ½ä¼šæœ‰äº›éš¾ä»¥é›†ä¸­æ³¨æ„åŠ›ï¼›è€Œåœ¨æŸäº›å¤œæ™šåˆ™åœ¨åºŠä¸Šè¾—è½¬åä¾§ã€æ— <span class="red">æ³•å…¥ç¡ã€‚ä½ å¯èƒ½å®¹æ˜“</span>æ„Ÿåˆ°ä¸å®‰å’Œæ‚²ä¼¤ï¼Œæˆ–æ˜¯è§‰å¾—çƒ¦èºæˆ–ä½è½ã€‚<br/>ğŸ”¸ä¸ç”¨è¿‡åˆ†æ‹…å¿§ï¼Œä½ åªæ˜¯æœ‰äº›è½»å¾®çš„æŠ‘éƒç—‡çŠ¶ï¼Œè½»åº¦æŠ‘éƒæ˜¯èƒ½å¤Ÿé€šè¿‡è°ƒæ•´å¿ƒæ€ã€è§„å¾‹ä½œæ¯ç­‰æ–¹æ³•è‡ªæˆ‘ç–—æ„ˆçš„ï¼ŒåšæŒé”»ç‚¼ã€å¥åº·é¥®é£Ÿã€åŸ¹å…»å›ºå®šçš„ç¡çœ æ—¶é—´ã€å¤šå’Œå®¶äººæœ‹å‹èŠèŠå¤©â€”â€”è¯·ä¸è¦è½»è§†è¿™äº›æ—¥å¸¸å°äº‹ï¼Œå®ƒä»¬éƒ½æ˜¯èƒ½è®©ä½ çš„å¿ƒæƒ…é‡æ–°æ˜åªšèµ·æ¥çš„æœ‰æ•ˆæ–¹æ³•â€”â€”<br/>ğŸ˜Šæœ€é‡è¦çš„æ˜¯ï¼Œä¿æŒè‰¯å¥½çš„å¿ƒæ€ï¼Œä¸è¦æ”¾çºµè‡ªå·±è¢«è´Ÿé¢æƒ…ç»ªæ‹–å®ã€‚æˆ‘æ˜ç™½ï¼Œç”Ÿæ´»ä¸­å­˜åœ¨å¤ªå¤šä¸å¦‚äººæ„ä¹‹äº‹ï¼Œä½ å¯ä»¥æ„¤æ€’ã€å¯ä»¥æ‚²ä¼¤ã€ç”šè‡³å¯ä»¥åšå••å¤§å“­ï¼Œä½†è¯·ä¸è¦ç”¨æ¶ˆæçš„å¿ƒæ€é•¿ä¹…åœ°æƒ©ç½šè‡ªå·±ã€‚å› ä¸ºåªè¦ç”Ÿæ´»è¿˜åœ¨ç»§ç»­ï¼Œå¿«ä¹çš„é—ªå…‰æ€»ä¼šç…§äº®é‚£ä¸€å°ç‰‡é»‘æš—ï¼Œè€ŒæŠ“ä½é‚£äº›ç”Ÿå‘½çš„å…‰ç‚¹ï¼Œå¹¶åŠªåŠ›è®©è‡ªå·±å‘å®ƒä»¬é è¿‘ï¼Œå¹¸ç¦çš„æ¸©åº¦ä¼šæ¯”æƒ³è±¡ä¸­æ›´åŠ æ¸©æš–è€Œè®©äººæ„ŸåŠ¨ã€‚<br/>'
  },

  /**
   * ç»„ä»¶çš„æ–¹æ³•åˆ—è¡¨
   */
  methods: {
    // è¡¨å•äº‹ä»¶
    ageEvent(e){
      console.log(e.detail.value)
      this.data.formData.age = e.detail.value
    },
    genderEvent(e){
      console.log(e.detail.value)
      this.data.formData.gender = e.detail.value
    },
    educationEvent(e){
      this.setData({
        educationIndex: e.detail.value
      })
      console.log(this.data.educations[parseInt(e.detail.value)])
      this.data.formData.education = this.data.educations[parseInt(e.detail.value)]
    },
    childOnlyEvent(e){
      console.log(e.detail.value)
      this.data.formData.childOnly = e.detail.value
    },
    profileFinish(e){
      console.log(this.data.formData)
      var user = this.data.formData
      var judge = true
      if(user.age=="" || user.gender=="" || user.education=="" || user.childOnly==""){
        judge = false
      }
      if(judge){
        wx.cloud.callFunction({
          name:'profileFinish',
          data:{
            profile: user,
          },
          success:function(res){
            console.log(res)
            wx.redirectTo({
              url: '../result/result?title=fiveDimension&result='+res.result.resResult,
            })
          },
          fail: function(res){
            console.error(res)
          }
        })
      }
      else{
        wx.showToast({
          title: 'è¿˜æœ‰æœªå®Œæˆçš„ä¿¡æ¯å“¦~',
          icon: 'none',
          duration: 1000,
        })
      }
    },

    onLoad: function(e){
      const that = this
      console.log(e)
      var title = e.title
      this.data.title = e.title

      switch(title){
        case('fiveDimension'):
          wx.cloud.callFunction({
            name:'evaluation',
            data:{
              title: 'fiveDimension'
            },
            success: function(res){
              console.log(res)
              var user = res.result
              if(user.resResult!='' && typeof(user.resResult)!='undefined'){
                // ç›´æ¥è·³åˆ°ç»“æœé¡µ
                console.log('ç»“æœé¡µ')
                wx.redirectTo({
                  url: '../result/result?title=fiveDimension&result='+user.resResult,
                })
              }
              else if(user.resFinish==true && (user.resEducation==''||typeof(user.resEducation)=='undefined')){
                // è¯´æ˜å·²ç»å®Œæ¯•ï¼Œå¯ä»¥è·³è½¬åˆ°ä¸ªäººä¿¡æ¯é¡µ
                console.log('è·³è½¬åˆ°ä¸ªäººä¿¡æ¯é¡µ')
                that.data.scaleFinish = true
                that.data.profileFinish = false
                that.setData({
                  scaleFinish: that.data.scaleFinish,
                  profileFinish: that.data.profileFinish,
                })
              }
              else{
                console.log('è·³è½¬åˆ°æµ‹è¯„é¡µ')
                if(user.resFinish!=true)
                  that.data.scaleFinish = false
                else
                  that.data.scaleFinish = true
                if(user.resEducation=='' || typeof(user.resEducation)=='undefined')
                  that.data.profileFinish = false
                else
                  that.data.profileFinish = true

                console.log(user)
                var answerArr = user.res.split(",")
                that.data.answer = answerArr
                that.data.group = [
                  [0,1,2,3],
                  [4,5,6,7],
                  [8,9,10,11],
                  [12,13,14,15],
                  [16,17,18,19],
                  [20], 
                  [21,22,23,24,25],
                  [26,27,28,29,30],
                  [31,32,33,34,35],
                  [36,37,38,39,40],
                  [41,42,43,44,45],
                  [46,47,48,49,50],
                  [51,52,53,54,55],
                  [56,57,58,59,60],
                  [61,62,63,64,65],
                  [66,67,68,69,70],
                  [71,72,73,74,75],
                  [76,77,78,79,80],
                  [81,82,83,84,85],
                  [86,87,88,89,90],
                  [91,92,93,94,95],
                  [96,97,98,99,100],
                  [101,102,103,104,105],
                  [106,107,108,109,110],
                  [111,112,113,114,115],
                  [116,117,118,119,120],
                  [121,122,123,124,125],
                  [126,127,128],
                  [129,130,131,132,133],
                  [134],
                  [135,136,137,138,139],
                  [140,141,142,143,144],
                  [145,146,147,148,149],
                  [150,151,152,153,154],
                  [155,156,157,158,159],
                  [160,161,162,163,164],
                ]
                var jud = false
                for(var i in that.data.group){
                  for(var j in that.data.group[i]){
                    if(answerArr[that.data.group[i][j]] == "0"){
                      that.data.nowPageIndex = parseInt(i)
                      jud = true
                      break;
                    }
                  }
                  if(jud){
                    break;
                  }
                }
                if(!jud){
                  that.data.scaleFinishStop = true
                  that.data.nowPageIndex = that.data.group.length-1
                }
                // console.log(that.data.nowPageIndex)
                // æ”¹å˜claimå€¼
                that.claimChange()
                that.setData({
                  answer: answerArr,
                  twentyOneAnswer: [
                                        {
                                            A:'A.æˆ‘ä¸æ„Ÿåˆ°æ‚²ä¼¤',
                                            B:'B.æˆ‘æ„Ÿåˆ°æ‚²ä¼¤',
                                            C:'C.æˆ‘å§‹ç»ˆæ‚²ä¼¤ï¼Œä¸èƒ½è‡ªåˆ¶',
                                            D:'D.æˆ‘å¤ªæ‚²ä¼¤æˆ–ä¸æ„‰å¿«ï¼Œä¸å ªå¿å—',
                                        },
                                        {
                                            A:'A.æˆ‘å¯¹å°†æ¥å¹¶ä¸å¤±æœ›',
                                            B:'B.å¯¹æœªæ¥æˆ‘æ„Ÿåˆ°å¿ƒç°æ„å†·',
                                            C:'C.æˆ‘æ„Ÿåˆ°å…¨æ™¯æš—æ·¡',
                                            D:'D.æˆ‘è§‰å¾—å°†æ¥æ¯«æ— å¸Œæœ›ï¼Œæ— æ³•æ”¹å–„',
                                        },
                                        {
                                            A:'A.æˆ‘æ²¡æœ‰æ„Ÿåˆ°å¤±è´¥',
                                            B:'B.æˆ‘è§‰å¾—æ¯”ä¸€èˆ¬äººå¤±è´¥è¦å¤šä¸€äº›',
                                            C:'C.å›é¦–å¾€äº‹ï¼Œæˆ‘èƒ½çœ‹åˆ°çš„æ˜¯å¾ˆå¤šæ¬¡å¤±è´¥',
                                            D:'D.æˆ‘è§‰å¾—æˆ‘æ˜¯ä¸€ä¸ªå®Œå…¨å¤±è´¥çš„äºº',
                                        },
                                        {
                                            A:'A.æˆ‘å’Œä»¥å‰ä¸€æ ·ï¼Œä»å„ç§äº‹ä»¶ä¸­å¾—åˆ°æ»¡è¶³',
                                            B:'B.æˆ‘ä¸è±¡å¾€å¸¸ä¸€æ ·ä»å„ç§äº‹ä»¶ä¸­å¾—åˆ°æ»¡è¶³',
                                            C:'C.æˆ‘ä¸å†èƒ½ä»å„ç§äº‹ä»¶ä¸­å¾—åˆ°çœŸæ­£çš„æ»¡è¶³',
                                            D:'D.æˆ‘å¯¹ä¸€åˆ‡äº‹æƒ…éƒ½ä¸æ»¡æ„æˆ–æ„Ÿåˆ°æ¯ç‡¥æ— å‘³',
                                        },
                                        {
                                            A:'A.æˆ‘ä¸æ„Ÿåˆ°ç½ªè¿‡',
                                            B:'B.æˆ‘åœ¨ç›¸å½“éƒ¨åˆ†çš„æ—¶é—´é‡Œæ„Ÿåˆ°ç½ªè¿‡',
                                            C:'C.æˆ‘åœ¨å¤§éƒ¨åˆ†æ—¶é—´é‡Œè§‰å¾—æœ‰ç½ª',
                                            D:'D.æˆ‘åœ¨ä»»ä½•æ—¶å€™éƒ½è§‰å¾—æœ‰ç½ª',
                                        },
                                        {
                                            A:'A.æˆ‘æ²¡æœ‰è§‰å¾—å—åˆ°æƒ©ç½š',
                                            B:'B.æˆ‘è§‰å¾—å¯èƒ½å—åˆ°æƒ©ç½š',
                                            C:'C.æˆ‘é¢„æ–™å°†å—åˆ°æƒ©ç½š',
                                            D:'D.æˆ‘è§‰å¾—æ­£å—åˆ°æƒ©ç½š',
                                        },
                                        {
                                            A:'A.æˆ‘å¯¹è‡ªå·±å¹¶ä¸å¤±æœ›',
                                            B:'B.æˆ‘å¯¹è‡ªå·±æ„Ÿåˆ°å¤±æœ›',
                                            C:'C.æˆ‘å¯¹è‡ªå·±æ„Ÿåˆ°è®¨åŒ',
                                            D:'D.æˆ‘æ¨æˆ‘è‡ªå·±',
                                        },
                                        {
                                            A:'A.æˆ‘è§‰å¾—æˆ‘å¹¶ä¸æ¯”å…¶ä»–äººæ›´ä¸å¥½',
                                            B:'B.æˆ‘å¯¹è‡ªå·±çš„å¼±ç‚¹å’Œé”™è¯¯è¦æ‰¹åˆ¤',
                                            C:'C.æˆ‘åœ¨æ‰€æœ‰çš„æ—¶é—´é‡Œéƒ½è´£å¤‡è‡ªå·±çš„è¿‡é”™',
                                            D:'D.æˆ‘è´£å¤‡è‡ªå·±æ‰€æœ‰çš„äº‹æƒ…éƒ½å¼„åäº†',
                                        },
                                        {
                                            A:'A.æˆ‘æ²¡æœ‰ä»»ä½•æƒ³å¼„æ­»è‡ªå·±çš„æƒ³æ³•',
                                            B:'B.æˆ‘æœ‰è‡ªæ€çš„æƒ³æ³•ï¼Œä½†æˆ‘ä¸ä¼šå»åš',
                                            C:'C.æˆ‘æƒ³è‡ªæ€',
                                            D:'D.å¦‚æœæœ‰æœºä¼šæˆ‘å°±è‡ªæ€',
                                        },
                                        {
                                            A:'A.æˆ‘å“­æ³£å’Œå¾€å¸¸ä¸€æ ·',
                                            B:'B.æˆ‘æ¯”å¾€å¸¸å“­çš„å¤š',
                                            C:'C.æˆ‘ç°åœ¨ä¸€ç›´è¦å“­',
                                            D:'D.æˆ‘è¿‡å»èƒ½å“­ï¼Œä½†ç°åœ¨è¦å“­ä¹Ÿå“­ä¸å‡ºæ¥',
                                        },
                                        {
                                            A:'A.å’Œè¿‡å»ç›¸æ¯”ï¼Œæˆ‘ç°åœ¨ç”Ÿæ°”å¹¶ä¸å¤š',
                                            B:'B.æˆ‘ç°åœ¨æ¯”å¾€å¸¸æ›´å®¹æ˜“ç”Ÿæ°”å‘ç«',
                                            C:'C.æˆ‘è§‰å¾—ç°åœ¨æ‰€æœ‰çš„æ—¶é—´éƒ½å®¹æ˜“ç”Ÿæ°”',
                                            D:'D.è¿‡å»ä½¿æˆ‘ç”Ÿæ°”çš„äº‹ï¼Œç°åœ¨ä¸€ç‚¹ä¹Ÿä¸èƒ½ä½¿æˆ‘ç”Ÿæ°”äº†',
                                        },
                                        {
                                            A:'A.æˆ‘å¯¹å…¶ä»–äººæ²¡æœ‰å¤±å»å…´è¶£',
                                            B:'B.å’Œè¿‡å»ç›¸æ¯”ï¼Œæˆ‘å¯¹åˆ«äººçš„å…´è¶£å‡å°‘äº†',
                                            C:'C.æˆ‘å¯¹åˆ«äººçš„å…´è¶£å¤§éƒ¨åˆ†å¤±å»äº†',
                                            D:'D.æˆ‘å¯¹åˆ«äººçš„å…´è¶£å·²å…¨éƒ¨ä¸§å¤±äº†',
                                        },
                                        {
                                            A:'A.æˆ‘ä½œå†³å®šå’Œè¿‡å»ä¸€æ ·å¥½',
                                            B:'B.æˆ‘æ¨è¿Ÿä½œå‡ºå†³å®šæ¯”è¿‡å»å¤šäº†',
                                            C:'C.æˆ‘ä½œå†³å®šæ¯”ä»¥å‰å›°éš¾å¤§çš„å¤š',
                                            D:'D.æˆ‘å†ä¹Ÿä¸èƒ½ä½œå‡ºå†³å®šäº†',
                                        },
                                        {
                                            A:'A.æˆ‘è§‰å¾—çœ‹ä¸Šå»æˆ‘çš„å¤–è¡¨å¹¶ä¸æ¯”è¿‡å»å·®',
                                            B:'B.æˆ‘æ‹…å¿ƒçœ‹ä¸Šå»æˆ‘æ˜¾å¾—è€äº†ï¼Œæ²¡å¸å¼•åŠ›äº†',
                                            C:'C.æˆ‘è§‰å¾—æˆ‘çš„å¤–è²Œæœ‰äº›å›ºå®šçš„å˜åŒ–ï¼Œä½¿æˆ‘éš¾çœ‹äº†',
                                            D:'D.æˆ‘ç›¸ä¿¡æˆ‘çœ‹èµ·æ¥å¾ˆä¸‘é™‹',
                                        },
                                        {
                                            A:'A.æˆ‘å·¥ä½œå’Œä»¥å‰ä¸€æ ·å¥½',
                                            B:'B.è¦ç€æ‰‹åšäº‹ï¼Œæˆ‘ç°åœ¨è¦é¢å¤–èŠ±äº›åŠ›æ°”',
                                            C:'C.æ— è®ºåšä»€ä¹ˆäº‹æˆ‘å¿…é¡»åŠªåŠ›',
                                            D:'D.æˆ‘ä»€ä¹ˆå·¥ä½œä¹Ÿä¸èƒ½åšäº†å‚¬ä¿ƒè‡ªå·±æ‰è¡Œ',
                                        },
                                        {
                                            A:'A.æˆ‘ç¡è§‰ä¸å¾€å¸¸ä¸€æ ·å¥½',
                                            B:'B.æˆ‘ç¡è§‰ä¸å¦‚è¿‡å»å¥½',
                                            C:'C.æˆ‘æ¯”å¾€å¸¸æ—©é†’1ï½2å°æ—¶ï¼Œéš¾ä»¥å†å…¥ç¡',
                                            D:'D.æˆ‘æ¯”å¾€å¸¸æ—©é†’å‡ ä¸ªå°æ—¶ï¼Œä¸èƒ½å†ç¡',
                                        },
                                        {
                                            A:'A.æˆ‘å¹¶ä¸æ„Ÿåˆ°æ¯”å¾€å¸¸æ›´ç–²ä¹',
                                            B:'B.æˆ‘æ¯”è¿‡å»æ›´å®¹æ˜“æ„Ÿåˆ°ç–²ä¹',
                                            C:'C.å‡ ä¹ä¸ç®¡åšä»€ä¹ˆï¼Œæˆ‘éƒ½æ„Ÿåˆ°ç–²ä¹æ— åŠ›',
                                            D:'D.æˆ‘å¤ªç–²ä¹æ— åŠ›ï¼Œä¸èƒ½åšä»»ä½•äº‹æƒ…',
                                        },
                                        {
                                            A:'A.æˆ‘çš„é£Ÿæ¬²ä¸å¾€å¸¸ä¸€æ ·',
                                            B:'B.æˆ‘çš„é£Ÿæ¬²ä¸å¦‚è¿‡å»å¥½',
                                            C:'C.æˆ‘ç°åœ¨çš„é£Ÿæ¬²å·®å¾—å¤šäº†',
                                            D:'D.æˆ‘ä¸€ç‚¹ä¹Ÿæ²¡æœ‰é£Ÿæ¬²äº†',
                                        },
                                        {
                                            A:'A.æœ€è¿‘æˆ‘çš„ä½“é‡å¹¶æ— å¾ˆå¤§å‡è½»',
                                            B:'B.æˆ‘çš„ä½“é‡ä¸‹é™äº†5ç£…ï¼ˆçº¦2.25kgï¼‰ä»¥ä¸Š',
                                            C:'C.æˆ‘çš„ä½“é‡ä¸‹é™äº†10ç£…ä»¥ä¸Š',
                                            D:'D.æˆ‘çš„ä½“é‡ä¸‹é™15ç£…ä»¥ä¸Š',
                                        },
                                        {
                                            A:'A.æˆ‘å¯¹æœ€è¿‘çš„å¥åº·çŠ¶å†µå¹¶ä¸æ¯”å¾€å¸¸æ›´æ‹…å¿ƒ',
                                            B:'B.æˆ‘æ‹…å¿ƒèº«ä½“ä¸Šçš„é—®é¢˜ï¼Œå¦‚ç–¼ç—›ã€èƒƒä¸é€‚æˆ–ä¾¿ç§˜',
                                            C:'C.æˆ‘éå¸¸æ‹…å¿ƒèº«ä½“é—®é¢˜ï¼Œæƒ³åˆ«çš„äº‹æƒ…å¾ˆéš¾',
                                            D:'D.æˆ‘å¯¹èº«ä½“é—®é¢˜å¦‚æ­¤æ‹…å¿§ä»¥è‡´ä¸èƒ½æƒ³å…¶ä»–ä»»ä½•äº‹æƒ…',
                                        },
                                        {
                                            A:'A.æˆ‘æ²¡æœ‰å‘ç°æˆ‘å¯¹æ€§çš„å…´è¶£æœ€è¿‘æœ‰ä»€ä¹ˆå˜åŒ–',
                                            B:'B.æˆ‘å¯¹æ€§çš„å…´è¶£æ¯”è¿‡å»é™ä½äº†',
                                            C:'C.ç°åœ¨æˆ‘å¯¹æ€§çš„å…´è¶£åˆå¤§ä¸‹é™',
                                            D:'D.æˆ‘å¯¹æ€§çš„å…´è¶£å·²ç»å®Œå…¨ä¸§å¤±',
                                        },
                                    ],
                  question:[
                              '','','','','','','','','','','','','','','','','','','','','',
                              '1.é€šè¿‡å·¥ä½œå­¦ä¹ æˆ–ä¸€äº›å…¶ä»–æ´»åŠ¨è§£è„±',
                              '2.ä¸äººäº¤è°ˆï¼Œå€¾è¯‰å†…å¿ƒçƒ¦æ¼',
                              '3.å°½é‡çœ‹åˆ°äº‹ç‰©å¥½çš„ä¸€é¢',
                              '4.æ”¹å˜è‡ªå·±çš„æƒ³æ³•ï¼Œé‡æ–°å‘ç°ç”Ÿæ´»ä¸­ä»€ä¹ˆé‡è¦',
                              '5.ä¸æŠŠé—®é¢˜çœ‹å¾—å¤ªä¸¥é‡',
                              '6.åšæŒè‡ªå·±çš„ç«‹åœºï¼Œä¸ºè‡ªå·±æƒ³å¾—åˆ°çš„æ–—äº‰',
                              '7.æ‰¾å‡ºå‡ ç§ä¸åŒçš„è§£å†³é—®é¢˜çš„æ–¹æ³•',
                              '8.å‘äº²æˆšæœ‹å‹æˆ–åŒå­¦å¯»æ±‚å»ºè®®',
                              '9.æ”¹å˜åŸæ¥çš„ä¸€äº›åšæ³•æˆ–è‡ªå·±çš„ä¸€äº›é—®é¢˜',
                              '10.å€Ÿé‰´ä»–äººå¤„ç†ç±»ä¼¼å›°éš¾æƒ…æ™¯çš„åŠæ³•',
                              '11.å¯»æ±‚ä¸šä½™çˆ±å¥½ï¼Œç§¯æå‚åŠ æ–‡ä½“æ´»åŠ¨',
                              '12.å°½é‡å…‹åˆ¶è‡ªå·±çš„å¤±æœ›ã€æ‚”æ¨ã€æ‚²ä¼¤å’Œæ„¤æ€’',
                              '13.è¯•å›¾ä¼‘æ¯æˆ–ä¼‘å‡ï¼Œæš‚æ—¶æŠŠé—®é¢˜ï¼ˆçƒ¦æ¼ï¼‰æŠ›å¼€',
                              '14.é€šè¿‡å¸çƒŸã€å–é…’ã€æœè¯å’Œåƒä¸œè¥¿æ¥è§£é™¤çƒ¦æ¼',
                              '15.è®¤ä¸ºæ—¶é—´ä¼šæ”¹å˜ç°çŠ¶ï¼Œå”¯ä¸€è¦åšçš„ä¾¿æ˜¯ç­‰å¾…',
                              '16.è¯•å›¾å¿˜è®°æ•´ä¸ªäº‹æƒ…',
                              '17.ä¾é åˆ«äººè§£å†³é—®é¢˜',
                              '18.æ¥å—ç°å®ï¼Œå› ä¸ºæ²¡æœ‰å…¶å®ƒåŠæ³•',
                              '19.å¹»æƒ³å¯èƒ½ä¼šå‘ç”ŸæŸç§å¥‡è¿¹æ”¹å˜ç°çŠ¶',
                              '20.è‡ªå·±å®‰æ…°è‡ªå·±',
                              '1.ä½ æ˜¯å¦æœ‰è®¸å¤šä¸åŒçš„ä¸šä½™çˆ±å¥½ï¼Ÿ',
                              '2.ä½ æ˜¯å¦åœ¨åšä»»ä½•äº‹æƒ…ä»¥å‰éƒ½è¦åœä¸‹æ¥ä»”ç»†æ€è€ƒï¼Ÿ',
                              '3.ä½ çš„å¿ƒå¢ƒæ˜¯å¦å¸¸æœ‰èµ·ä¼ï¼Ÿ',
                              '4.ä½ æ›¾æœ‰è¿‡æ˜çŸ¥æ˜¯åˆ«äººçš„åŠŸåŠ³è€Œä½ å»æ¥å—å¥–åŠ±çš„äº‹å—ï¼Ÿ',
                              '5.ä½ æ˜¯å¦å¥è°ˆï¼Ÿ',
                              '6.æ¬ å€ºä¼šä½¿ä½ ä¸å®‰å—ï¼Ÿ',
                              '7.ä½ æ›¾æ— ç¼˜æ— æ•…è§‰å¾—â€œçœŸæ˜¯éš¾å—â€å—ï¼Ÿ',
                              '8.ä½ æ›¾è´ªå›¾è¿‡åˆ†å¤–ä¹‹ç‰©å—ï¼Ÿ',
                              '9.ä½ æ˜¯å¦åœ¨æ™šä¸Šå°å¿ƒç¿¼ç¿¼åœ°å…³å¥½é—¨çª—ï¼Ÿ',
                              '10.ä½ æ˜¯å¦æ¯”è¾ƒæ´»è·ƒï¼Ÿ',
                              '11.ä½ åœ¨è§åˆ°ä¸€å°å­©æˆ–ä¸€åŠ¨ç‰©å—æŠ˜ç£¨æ—¶æ˜¯å¦ä¼šæ„Ÿåˆ°éå¸¸éš¾è¿‡ï¼Ÿ',
                              '12.ä½ æ˜¯å¦å¸¸å¸¸ä¸ºè‡ªå·±ä¸è¯¥åšè€Œåšäº†çš„äº‹ï¼Œä¸è¯¥è¯´è€Œè¯´äº†çš„è¯è€Œç´§å¼ ï¼Ÿ',
                              '13.ä½ å–œæ¬¢è·³é™è½ä¼å—ï¼Ÿ',
                              '14.é€šå¸¸ä½ èƒ½åœ¨çƒ­é—¹è”æ¬¢ä¼šä¸­å°½æƒ…åœ°ç©å—ï¼Ÿ',
                              '15.ä½ å®¹æ˜“æ¿€åŠ¨å—ï¼Ÿ',
                              '16.ä½ æ›¾ç»å°†è‡ªå·±çš„è¿‡é”™æ¨ç»™åˆ«äººå—ï¼Ÿ',
                              '17.ä½ å–œæ¬¢ä¼šè§é™Œç”Ÿäººå—ï¼Ÿ',
                              '18.ä½ æ˜¯å¦ç›¸ä¿¡ä¿é™©åˆ¶åº¦æ˜¯ä¸€ç§å¥½åŠæ³•ï¼Ÿ',
                              '19.ä½ æ˜¯ä¸€ä¸ªå®¹æ˜“ä¼¤æ„Ÿæƒ…çš„äººå—ï¼Ÿ',
                              '20.ä½ æ‰€æœ‰çš„ä¹ æƒ¯éƒ½æ˜¯å¥½çš„å—ï¼Ÿ',
                              '21.åœ¨ç¤¾äº¤åœºåˆä½ æ˜¯å¦æ€»ä¸æ„¿éœ²å¤´è§’ï¼Ÿ',
                              '22.ä½ ä¼šæœç”¨å¥‡å¼‚æˆ–å±é™©ä½œç”¨çš„è¯ç‰©å—ï¼Ÿ',
                              '23.ä½ å¸¸æœ‰â€œåŒå€¦â€ä¹‹æ„Ÿå—ï¼Ÿ',
                              '24.ä½ æ›¾æ‹¿è¿‡åˆ«äººçš„ä¸œè¥¿å—ï¼ˆå“ªæ€•ä¸€é’ˆä¸€çº¿ï¼‰ï¼Ÿ',
                              '25.ä½ æ˜¯å¦å¸¸çˆ±å¤–å‡ºï¼Ÿ',
                              '26.ä½ æ˜¯å¦ä»ä¼¤å®³ä½ æ‰€å® çˆ±çš„äººè€Œæ„Ÿåˆ°ä¹è¶£ï¼Ÿ',
                              '27.ä½ å¸¸ä¸ºæœ‰ç½ªæ¶ä¹‹æ„Ÿæ‰€è‹¦æ¼å—ï¼Ÿ',
                              '28.ä½ åœ¨è°ˆè®ºä¸­æ˜¯å¦æœ‰æ—¶ä¸æ‡‚è£…æ‡‚ï¼Ÿ',
                              '29.ä½ æ˜¯å¦å®æ„¿å»çœ‹ä¹¦è€Œä¸æ„¿å»å¤šè§äººï¼Ÿ',
                              '30.ä½ æœ‰è¦ä¼¤å®³ä½ çš„ä»‡äººå—ï¼Ÿ',
                              '31.ä½ è§‰å¾—è‡ªå·±æ˜¯ä¸€ä¸ªç¥ç»è¿‡æ•çš„äººå—ï¼Ÿ',
                              '32.å¯¹äººæœ‰æ‰€å¤±ç¤¼æ—¶ä½ æ˜¯å¦ç»å¸¸è¦è¡¨ç¤ºæ­‰æ„ï¼Ÿ',
                              '33.ä½ æœ‰è®¸å¤šæœ‹å‹å—ï¼Ÿ',
                              '34.ä½ æ˜¯å¦å–œçˆ±è®²äº›æœ‰æ—¶ç¡®èƒ½ä¼¤å®³äººçš„ç¬‘è¯ï¼Ÿ',
                              '35.ä½ æ˜¯ä¸€ä¸ªå¤šå¿§å¤šè™‘çš„äººå—ï¼Ÿ',
                              '36.ä½ åœ¨ç«¥å¹´æ˜¯å¦æŒ‰ç…§å©å’è¦åšä»€ä¹ˆä¾¿åšä»€ä¹ˆï¼Œæ¯«æ— æ€¨è¨€ï¼Ÿ',
                              '37.ä½ è®¤ä¸ºä½ æ˜¯ä¸€ä¸ªä¹å¤©æ´¾å—ï¼Ÿ',
                              '38.ä½ å¾ˆè®²ç©¶ç¤¼è²Œå’Œæ•´æ´å—ï¼Ÿ',
                              '39.ä½ æ˜¯å¦æ€»åœ¨æ‹…å¿ƒä¼šå‘ç”Ÿå¯æ€•çš„äº‹æƒ…ï¼Ÿ',
                              '40.ä½ æ›¾æŸåæˆ–é—å¤±è¿‡åˆ«äººçš„ä¸œè¥¿å—ï¼Ÿ',
                              '41.äº¤æ–°æœ‹å‹æ—¶ä¸€èˆ¬æ˜¯ä½ é‡‡å–ä¸»åŠ¨å—ï¼Ÿ',
                              '42.å½“åˆ«äººå‘ä½ è¯‰è‹¦æ—¶ï¼Œä½ æ˜¯å¦å®¹æ˜“ç†è§£ä»–ä»¬çš„è‹¦è¡·ï¼Ÿ',
                              '43.ä½ è®¤ä¸ºè‡ªå·±å¾ˆç´§å¼ ï¼Œå¦‚åŒâ€œæ‹‰ç´§çš„å¼¦â€ä¸€æ ·å—ï¼Ÿ',
                              '44.åœ¨æ²¡æœ‰åºŸçº¸ç¯“æ—¶ï¼Œä½ æ˜¯å¦å°†åºŸçº¸æ‰”åœ¨åœ°æ¿ä¸Šï¼Ÿ',
                              '45.å½“ä½ ä¸åˆ«äººåœ¨ä¸€èµ·æ—¶ï¼Œä½ æ˜¯å¦è¨€è¯­å¾ˆå°‘ï¼Ÿ',
                              '46.ä½ æ˜¯å¦è®¤ä¸ºç»“å©šåˆ¶åº¦æ˜¯è¿‡æ—¶äº†ï¼Œåº”è¯¥åºŸæ­¢ï¼Ÿ',
                              '47.ä½ æ˜¯å¦æœ‰æ—¶æ„Ÿåˆ°è‡ªå·±å¯æ€œï¼Ÿ',
                              '48.ä½ æ˜¯å¦æœ‰æ—¶æœ‰ç‚¹è‡ªå¤¸ï¼Ÿ',
                              '49.ä½ æ˜¯å¦å¾ˆå®¹æ˜“å°†ä¸€ä¸ªæ²‰å¯‚çš„é›†ä¼šæå¾—æ´»è·ƒèµ·æ¥ï¼Ÿ',
                              '50.ä½ æ˜¯å¦è®¨åŒé‚£ç§å°å¿ƒç¿¼ç¿¼åœ°å¼€è½¦çš„äººï¼Ÿ',
                              '51.ä½ ä¸ºä½ çš„å¥åº·æ‹…å¿§å—ï¼Ÿ',
                              '52.ä½ æ›¾è®²è¿‡ä»€ä¹ˆäººçš„åè¯å—ï¼Ÿ',
                              '53.ä½ æ˜¯å¦å–œæ¬¢å¯¹æœ‹å‹è®²ç¬‘è¯å’Œæœ‰è¶£çš„æ•…äº‹ï¼Ÿ',
                              '54.ä½ å°æ—¶å€™æ›¾å¯¹çˆ¶æ¯ç²—æš´æ— ç¤¼å—ï¼Ÿ',
                              '55.ä½ æ˜¯å¦å–œæ¬¢ä¸äººæ··åœ¨ä¸€èµ·ï¼Ÿ',
                              '56.ä½ å¦‚çŸ¥é“è‡ªå·±å·¥ä½œæœ‰é”™è¯¯ï¼Œè¿™ä¼šä½¿ä½ æ„Ÿåˆ°éš¾è¿‡å—ï¼Ÿ',
                              '57.ä½ æ‚£å¤±çœ å—ï¼Ÿ',
                              '58.ä½ åƒé¥­å‰å¿…å®šæ´—æ‰‹å—ï¼Ÿ',
                              '59.ä½ å¸¸æ— ç¼˜æ— æ•…æ„Ÿåˆ°æ— ç²¾æ‰“é‡‡å’Œå€¦æ€ å—ï¼Ÿ',
                              '60.å’Œåˆ«äººç©æ¸¸æˆæ—¶ï¼Œä½ æœ‰è¿‡æ¬ºéª—è¡Œä¸ºå—ï¼Ÿ',
                              '61.ä½ æ˜¯å¦å–œæ¬¢ä»äº‹ä¸€äº›åŠ¨ä½œè¿…é€Ÿçš„å·¥ä½œï¼Ÿ',
                              '62.ä½ çš„æ¯äº²æ˜¯ä¸€ä½å–„è‰¯çš„å¦‡äººå—ï¼Ÿ',
                              '63.ä½ æ˜¯å¦å¸¸å¸¸è§‰å¾—äººç”Ÿéå¸¸æ— å‘³ï¼Ÿ',
                              '64.ä½ æ›¾åˆ©ç”¨è¿‡æŸäººä¸ºè‡ªå·±å–å¾—å¥½å¤„å—ï¼Ÿ',
                              '65.ä½ æ˜¯å¦å¸¸å¸¸å‚åŠ è®¸å¤šæ´»åŠ¨ï¼Œè¶…è¿‡ä½ çš„æ—¶é—´æ‰€å…è®¸ï¼Ÿ',
                              '66.æ˜¯å¦æœ‰å‡ ä¸ªäººæ€»åœ¨èº²é¿ä½ ï¼Ÿ',
                              '67.ä½ æ˜¯å¦ä¸ºä½ çš„å®¹è²Œè€Œéå¸¸çƒ¦æ¼ï¼Ÿ',
                              '68.ä½ æ˜¯å¦è§‰å¾—äººä»¬ä¸ºäº†æœªæ¥æœ‰ä¿éšœè€ŒåŠç†å‚¨è“„å’Œä¿é™©æ‰€èŠ±çš„æ—¶é—´å¤ªå¤šï¼Ÿ',
                              '69.ä½ æ›¾æœ‰è¿‡ä¸å¦‚æ­»äº†ä¸ºå¥½çš„æ„¿æœ›å—ï¼Ÿ',
                              '70.å¦‚æœæœ‰æŠŠæ¡æ°¸è¿œä¸ä¼šè¢«åˆ«äººå‘ç°ï¼Œä½ ä¼šé€ƒç¨å—ï¼Ÿ',
                              '71.ä½ èƒ½ä½¿ä¸€ä¸ªé›†ä¼šé¡ºåˆ©è¿›è¡Œå—ï¼Ÿ',
                              '72.ä½ èƒ½å…‹åˆ¶è‡ªå·±ä¸å¯¹äººæ— ç¤¼å—ï¼Ÿ',
                              '73.é‡åˆ°ä¸€æ¬¡éš¾å ªçš„ç»å†åï¼Œä½ æ˜¯å¦åœ¨ä¸€æ®µå¾ˆé•¿çš„æ—¶é—´å†…è¿˜æ„Ÿåˆ°éš¾å—ï¼Ÿ',
                              '74.ä½ æ‚£æœ‰â€œç¥ç»è¿‡æ•â€å—ï¼Ÿ',
                              '75.ä½ æ›¾ç»æ•…æ„è¯´äº›ä»€ä¹ˆæ¥ä¼¤å®³åˆ«äººçš„æ„Ÿæƒ…å—ï¼Ÿ',
                              '76.ä½ ä¸åˆ«äººçš„å‹è°Šæ˜¯å¦å®¹æ˜“ç ´è£‚ï¼Œè™½ç„¶ä¸æ˜¯ä½ çš„è¿‡é”™ï¼Ÿ',
                              '77.ä½ å¸¸æ„Ÿåˆ°å­¤å•å—ï¼Ÿ',
                              '78.å½“äººå®¶å¯»ä½ çš„å·®é”™,æ‰¾ä½ å·¥ä½œä¸­çš„ç¼ºç‚¹æ—¶,ä½ æ˜¯å¦å®¹æ˜“åœ¨ç²¾ç¥ä¸Šå—æŒ«ä¼¤ï¼Ÿ',
                              '79.ä½ èµ´çº¦ä¼šæˆ–ä¸Šç­æ›¾è¿Ÿåˆ°è¿‡å—ï¼Ÿ',
                              '80.ä½ å–œæ¬¢å¿™å¿™ç¢Œç¢Œåœ°è¿‡æ—¥å­å—ï¼Ÿ',
                              '81.ä½ æ„¿æ„åˆ«äººæ€•ä½ å—ï¼Ÿ',
                              '82.ä½ æ˜¯å¦è§‰å¾—æœ‰æ—¶æµ‘èº«æ˜¯åŠ²ï¼Œè€Œæœ‰æ—¶åˆæ˜¯æ‡’æ´‹æ´‹çš„å—ï¼Ÿ',
                              '83.ä½ æœ‰æ—¶æŠŠä»Šå¤©åº”åšçš„äº‹æ‹–åˆ°æ˜å¤©å»åšå—ï¼Ÿ',
                              '84.åˆ«äººè®¤ä¸ºä½ æ˜¯ç”Ÿæ°”å‹ƒå‹ƒå—ï¼Ÿ',
                              '85.åˆ«äººæ˜¯å¦å¯¹ä½ è¯´äº†è®¸å¤šè°è¯ï¼Ÿ',
                              '86.ä½ æ˜¯å¦å®¹æ˜“å¯¹æŸäº›äº‹ç‰©å®¹æ˜“å†’ç«ï¼Ÿ',
                              '87.å½“ä½ çŠ¯äº†é”™è¯¯æ—¶ï¼Œä½ æ˜¯å¦å¸¸å¸¸æ„¿æ„æ‰¿è®¤å®ƒï¼Ÿ',
                              '88.ä½ ä¼šä¸ºä¸€åŠ¨ç‰©è½å…¥åœˆå¥—è¢«æ‰æ‹¿è€Œæ„Ÿåˆ°å¾ˆéš¾è¿‡å—ï¼Ÿ',
                              '1.æˆ‘æ„Ÿè§‰èƒƒå£å¾ˆå¥½ä¸”æ‘„å…¥é‡é€‚ä¸­',
                              '2.æˆ‘æ„Ÿåˆ°å¿ƒæƒ…æ„‰æ‚¦',
                              '3.æˆ‘æ„Ÿè§‰è‡ªå·±æœ‰æ´»åŠ›',
                              '4.æˆ‘å¯¹ç”Ÿæ´»ä¸­çš„äº‹ç‰©å……æ»¡å…´è¶£',
                              '5.æˆ‘èƒ½æ­£å¸¸å…¥ç¡å’Œç¡é†’',
                              '6.æˆ‘è§‰å¾—å¿ƒå¹³æ°”å’Œï¼Œå¹¶ä¸”å®¹æ˜“å®‰é™åœ°åç€', 
                              '1.æˆ‘è§‰å¾—æ´»åœ¨ä¸–ä¸Šå›°éš¾é‡é‡ã€‚',
                              '2.æˆ‘ä¸å¥½ã€‚',
                              '3.ä¸ºä»€ä¹ˆæˆ‘æ€»ä¸èƒ½æˆåŠŸï¼Ÿ',
                              '4.æ²¡æœ‰äººç†è§£æˆ‘ã€‚',
                              '5.æˆ‘è®©äººå¤±æœ›ã€‚',
                              '6.æˆ‘è§‰å¾—è¿‡ä¸ä¸‹å»äº†ã€‚',
                              '7.çœŸå¸Œæœ›æˆ‘èƒ½å¥½ä¸€ç‚¹ã€‚',
                              '8.æˆ‘å¾ˆè™šå¼±ã€‚',
                              '9.æˆ‘çš„ç”Ÿæ´»ä¸æŒ‰æˆ‘çš„æ„¿æœ›å‘å±•ã€‚',
                              '10.æˆ‘å¯¹è‡ªå·±å¾ˆä¸æ»¡æ„ã€‚',
                              '11.æˆ‘è§‰å¾—ä¸€åˆ‡éƒ½ä¸å¥½äº†ã€‚',
                              '12.æˆ‘æ— æ³•åšæŒä¸‹å»ã€‚',
                              '13.æˆ‘æ— æ³•é‡æ–°å¼€å§‹ã€‚',
                              '14.æˆ‘ç©¶ç«ŸçŠ¯äº†ä»€ä¹ˆæ¯›ç—…ï¼Ÿ',
                              '15.çœŸå¸Œæœ›æˆ‘æ˜¯åœ¨å¦å¤–ä¸€ä¸ªåœ°æ–¹ã€‚',
                              '16.æˆ‘æ— æ³•åŒæ—¶å¯¹ä»˜è¿™äº›äº‹æƒ…ã€‚',
                              '17.æˆ‘æ¨æˆ‘è‡ªå·±ã€‚',
                              '18.æˆ‘äº³æ— ä»·å€¼ã€‚',
                              '19.çœŸå¸Œæœ›æˆ‘ä¸€ä¸‹å­å°±æ¶ˆå¤±äº†',
                              '20.æˆ‘è¿™æ˜¯æ€ä¹ˆäº†ï¼Ÿ',
                              '21.æˆ‘æ˜¯ä¸ªå¤±è´¥è€…ã€‚',
                              '22.æˆ‘çš„ç”Ÿæ´»ä¸€å›¢ç³Ÿã€‚',
                              '23.æˆ‘ä¸€äº‹æ— æˆã€‚',
                              '24.æˆ‘ä¸å¯èƒ½å¹²å¥½ã€‚',
                              '25.æˆ‘è§‰å¾—å­¤ç«‹æ— æ´ã€‚',
                              '26.æœ‰äº›ä¸œè¥¿å¿…é¡»æ”¹å˜ã€‚',
                              '27.æˆ‘è‚¯å®šæœ‰é—®é¢˜ã€‚',
                              '28.æˆ‘çš„å°†æ¥äº³æ— å¸Œæœ›ã€‚',
                              '29.è¿™æ ¹æœ¬äº³æ— ä»·å€¼ã€‚',
                              '30.æˆ‘å¹²ä»€ä¹ˆäº‹éƒ½æœ‰å¤´æ— å°¾ã€‚',
                            ],
                  group:that.data.group,
                  nowPageIndex:that.data.nowPageIndex,
                  claim: that.data.claim,
                  scaleFinish: that.data.scaleFinish,
                  profileFinish: that.data.profileFinish,
                  title: that.data.title,
                  scaleFinishStop: that.data.scaleFinishStop,
                })
              }
              console.log(res)
            },
            fail:function(res){
              console.error(res)
            }
          })
          break;
        case('selfEsteem'):
          console.log('selfEsteem')
          wx.cloud.callFunction({
            name:'evaluation',
            data:{
              title: 'selfEsteem'
            },
            success: function(res){
              console.log(res)
              var user = res.result
              if(user.resResult!='' && typeof(user.resResult)!='undefined'){
                // ç›´æ¥è·³åˆ°ç»“æœé¡µ
                console.log('ç»“æœé¡µ')
                wx.redirectTo({
                  url: '../result/result?title=selfEsteem&result='+user.resResult,
                })
              }
              else{
                console.log('è·³è½¬åˆ°æµ‹è¯„é¡µ')

                console.log(user)
                var answerArr = user.res.split(",")
                that.data.answer = answerArr
                that.data.group = [
                  [0,1,2,3,4],
                  [5,6,7,8,9],
                ]
                var jud = false
                for(var i in that.data.group){
                  for(var j in that.data.group[i]){
                    if(answerArr[that.data.group[i][j]] == "0"){
                      that.data.nowPageIndex = parseInt(i)
                      jud = true
                      break;
                    }
                  }
                  if(jud){
                    break;
                  }
                }
                if(!jud){
                  that.data.scaleFinishStop = true
                  that.data.nowPageIndex = that.data.group.length-1
                }
                // console.log(that.data.nowPageIndex)
                // æ”¹å˜claimå€¼
                that.claimChange()
                that.setData({
                  answer: answerArr,
                  group:  that.data.group,
                  question:[
                    '1.æˆ‘æ„Ÿåˆ°è‡ªå·±æ˜¯ä¸€ä¸ªæœ‰ä»·å€¼çš„äººï¼Œè‡³å°‘ä¸å…¶ä»–äººåœ¨åŒä¸€æ°´å¹³ä¸Š',
                    '2.æˆ‘æ„Ÿåˆ°è‡ªå·±æœ‰è®¸å¤šå¥½çš„å“è´¨',
                    '3.å½’æ ¹åˆ°åº•ï¼Œæˆ‘å€¾å‘äºè®¤ä¸ºè‡ªå·±æ˜¯ä¸€ä¸ªå¤±è´¥è€…',
                    '4.æˆ‘èƒ½åƒå¤§å¤šæ•°äººä¸€æ ·æŠŠäº‹æƒ…åšå¥½',
                    '5.æˆ‘æ„Ÿåˆ°è‡ªå·±å€¼å¾—éª„å‚²çš„åœ°æ–¹ä¸å¤š',
                    '6.æˆ‘å¯¹è‡ªå·±æŒè‚¯å®šæ€åº¦',
                    '7.æ€»çš„æ¥è¯´ï¼Œæˆ‘å¯¹è‡ªå·±æ˜¯æ»¡æ„çš„',
                    '8.æˆ‘å¸Œæœ›æˆ‘èƒ½ä¸ºè‡ªå·±èµ¢å¾—æ›´å¤šå°Šé‡',
                    '9.æˆ‘ç¡®å®æ˜¯æ—¶å¸¸æ„Ÿåˆ°è‡ªå·±æ¯«æ— ç”¨å¤„',
                    '10.æˆ‘æ—¶å¸¸è®¤ä¸ºè‡ªå·±ä¸€æ— æ˜¯å¤„',
                            ],
                  nowPageIndex:that.data.nowPageIndex,
                  claim: that.data.claim,
                  title: that.data.title,
                  scaleFinishStop: that.data.scaleFinishStop,
                })
              }
              console.log(res)
            },
            fail:function(res){
              console.error(res)
            }
          })
          break;
        case('nervous'):
          console.log('nervous')
          wx.cloud.callFunction({
            name:'evaluation',
            data:{
              title: 'nervous'
            },
            success: function(res){
              console.log(res)
              var user = res.result
              if(user.resResult!='' && typeof(user.resResult)!='undefined'){
                // ç›´æ¥è·³åˆ°ç»“æœé¡µ
                console.log('ç»“æœé¡µ')
                wx.redirectTo({
                  url: '../result/result?title=nervous&result='+user.resResult,
                })
              }
              else{
                console.log('è·³è½¬åˆ°æµ‹è¯„é¡µ')
                console.log(user)
                var answerArr = user.res.split(",")
                that.data.answer = answerArr
                that.data.group = [
                  [0,1,2,3,4],
                  [5,6,7,8,9],
                  [10,11,12,13,14],
                  [15,16,17,18,19],
                ]
                var jud = false
                for(var i in that.data.group){
                  for(var j in that.data.group[i]){
                    if(answerArr[that.data.group[i][j]] == "0"){
                      that.data.nowPageIndex = parseInt(i)
                      jud = true
                      break;
                    }
                  }
                  if(jud){
                    break;
                  }
                }
                if(!jud){
                  that.data.scaleFinishStop = true
                  that.data.nowPageIndex = that.data.group.length-1
                }
                // console.log(that.data.nowPageIndex)
                // æ”¹å˜claimå€¼
                that.claimChange()
                that.setData({
                  answer: answerArr,
                  group:  that.data.group,
                  question:[
                    '1.æˆ‘è§‰å¾—æ¯”å¹³æ—¶å®¹æ˜“ç´§å¼ æˆ–ç€æ€¥',
                    '2.æˆ‘æ— ç¼˜æ— æ•…åœ¨æ„Ÿåˆ°å®³æ€•',
                    '3.æˆ‘å®¹æ˜“å¿ƒé‡Œçƒ¦ä¹±æˆ–æ„Ÿåˆ°æƒŠæ',
                    '4.æˆ‘è§‰å¾—æˆ‘å¯èƒ½å°†è¦å‘ç–¯',
                    '5.æˆ‘è§‰å¾—ä¸€åˆ‡éƒ½å¾ˆå¥½',
                    '6.æˆ‘æ‰‹è„šå‘æŠ–æ‰“é¢¤',
                    '7.æˆ‘å› ä¸ºå¤´ç–¼ã€é¢ˆç—›å’ŒèƒŒç—›è€Œè‹¦æ¼',
                    '8.æˆ‘è§‰å¾—å®¹æ˜“è¡°å¼±å’Œç–²ä¹',
                    '9.æˆ‘è§‰å¾—å¿ƒå¹³æ°”å’Œï¼Œå¹¶ä¸”å®¹æ˜“å®‰é™åç€',
                    '10.æˆ‘è§‰å¾—å¿ƒè·³å¾—å¾ˆå¿«',
                    '11.æˆ‘å› ä¸ºä¸€é˜µé˜µå¤´æ™•è€Œè‹¦æ¼',
                    '12.æˆ‘æœ‰æ™•å€’å‘ä½œï¼Œæˆ–è§‰å¾—è¦æ™•å€’ä¼¼çš„',
                    '13.æˆ‘å¸æ°”å‘¼æ°”éƒ½æ„Ÿåˆ°å¾ˆå®¹æ˜“',
                    '14.æˆ‘çš„æ‰‹è„šéº»æœ¨å’Œåˆºç—›',
                    '15.æˆ‘å› ä¸ºèƒƒç—›å’Œæ¶ˆåŒ–ä¸è‰¯è€Œè‹¦æ¼',
                    '16.æˆ‘å¸¸å¸¸è¦å°ä¾¿',
                    '17.æˆ‘çš„æ‰‹è„šå¸¸å¸¸æ˜¯å¹²ç‡¥æ¸©æš–çš„',
                    '18.æˆ‘è„¸çº¢å‘çƒ­',
                    '19.æˆ‘å®¹æ˜“å…¥ç¡å¹¶ä¸”ä¸€å¤œç¡å¾—å¾ˆå¥½',
                    '20.æˆ‘ä½œæ¶æ¢¦',
                            ],
                  nowPageIndex:that.data.nowPageIndex,
                  claim: that.data.claim,
                  title: that.data.title,
                  scaleFinishStop: that.data.scaleFinishStop,
                })
              }
              console.log(res)
            },
            fail:function(res){
              console.error(res)
            }
          })
          break;
        case('weekStatus'):
          console.log('weekStatus')
          wx.cloud.callFunction({
            name:'evaluation',
            data:{
              title: 'weekStatus'
            },
            success: function(res){
              console.log(res)
              var user = res.result
              if(user.resResult!='' && typeof(user.resResult)!='undefined'){
                // ç›´æ¥è·³åˆ°ç»“æœé¡µ
                console.log('ç»“æœé¡µ')
                wx.redirectTo({
                  url: '../result/result?title=weekStatus&result='+user.resResult,
                })
              }
              else{
                console.log('è·³è½¬åˆ°æµ‹è¯„é¡µ')
                console.log(user)
                var answerArr = user.res.split(",")
                that.data.answer = answerArr
                that.data.group = [
                  [0,1,2,3,4],
                  [5],
                ]
                var jud = false
                for(var i in that.data.group){
                  for(var j in that.data.group[i]){
                    if(answerArr[that.data.group[i][j]] == "0"){
                      that.data.nowPageIndex = parseInt(i)
                      jud = true
                      break;
                    }
                  }
                  if(jud){
                    break;
                  }
                }
                if(!jud){
                  that.data.scaleFinishStop = true
                  that.data.nowPageIndex = that.data.group.length-1
                }
                // console.log(that.data.nowPageIndex)
                // æ”¹å˜claimå€¼
                that.claimChange()
                that.setData({
                  answer: answerArr,
                  group:  that.data.group,
                  question:[
                    '1.æˆ‘æ„Ÿè§‰èƒƒå£å¾ˆå¥½ä¸”æ‘„å…¥é‡é€‚ä¸­',
                    '2.æˆ‘æ„Ÿåˆ°å¿ƒæƒ…æ„‰æ‚¦',
                    '3.æˆ‘æ„Ÿè§‰è‡ªå·±æœ‰æ´»åŠ›',
                    '4.æˆ‘å¯¹ç”Ÿæ´»ä¸­çš„äº‹ç‰©å……æ»¡å…´è¶£',
                    '5.æˆ‘èƒ½æ­£å¸¸å…¥ç¡å’Œç¡é†’',
                    '6.æˆ‘è§‰å¾—å¿ƒå¹³æ°”å’Œï¼Œå¹¶ä¸”å®¹æ˜“å®‰é™åœ°åç€',
                            ],
                  nowPageIndex:that.data.nowPageIndex,
                  claim: that.data.claim,
                  title: that.data.title,
                  scaleFinishStop: that.data.scaleFinishStop,
                })
              }
              console.log(res)
            },
            fail:function(res){
              console.error(res)
            }
          })
          break;
      }
    },
    onChange(event) {
      this.setData({
        radio: event.detail,
      });
    },
    claimChange(){
      console.log('å½“å‰çš„ç´¢å¼•æ˜¯ï¼š'+this.data.nowPageIndex)
      var nowPageIndex = this.data.nowPageIndex
      if(this.data.title == 'fiveDimension'){
        if(nowPageIndex>=0 && nowPageIndex<=5){
          this.data.claim = 'è¯´æ˜ï¼šè¯·ä½ ä»”ç»†é˜…è¯»æ¯ä¸€é¢˜ï¼Œç„¶åæ ¹æ®ä½ è¿‘ä¸€å‘¨ï¼ˆåŒ…æ‹¬ä»Šå¤©ï¼‰çš„æ„Ÿè§‰ï¼Œé€‰æ‹©æœ€ç¬¦åˆä½ æœ¬äººæƒ…å†µçš„é€‰é¡¹ã€‚'
        }
        else if(nowPageIndex>=6 && nowPageIndex<=9){
          this.data.claim = 'è¯´æ˜ï¼šä»¥ä¸‹åˆ—å‡ºçš„æ˜¯å½“ä½ åœ¨ç”Ÿæ´»ä¸­ç»å—åˆ°æŒ«æŠ˜æ‰“å‡»æˆ–é‡åˆ°å›°éš¾æ—¶å¯èƒ½é‡‡å–çš„æ€åº¦å’Œåšæ³•ã€‚è¯·ä½ ä»”ç»†é˜…è¯»æ¯ä¸€é¡¹åé€‰æ‹©æœ€ç¬¦åˆä½ æœ¬äººæƒ…å†µçš„é€‰é¡¹ã€‚A.ä¸é‡‡å– B.å¶å°”é‡‡å– C.æœ‰æ—¶é‡‡å– D.ç»å¸¸é‡‡å–'
        }
        else if(nowPageIndex>=10 && nowPageIndex<=27){
          this.data.claim = 'è¯´æ˜ï¼šæœ¬æµ‹éªŒç”±è®¸å¤šä¸ä½ æœ‰å…³çš„é—®é¢˜ç»„æˆã€‚å½“ä½ é˜…è¯»æ¯ä¸€é¢˜ç›®æ—¶ï¼Œè¯·è€ƒè™‘æ˜¯å¦ç¬¦åˆä½ è‡ªå·±çš„å®é™…æƒ…å†µå’Œçœ‹æ³•ã€‚å¦‚æœæƒ…å†µç¬¦åˆï¼Œè¯·é€‰æ‹©â€œæ˜¯ï¼ˆAï¼‰â€ï¼Œåä¹‹åˆ™é€‰æ‹©â€œå¦ï¼ˆBï¼‰â€ã€‚'
        }
        else if(nowPageIndex>=28 && nowPageIndex<=29){
          this.data.claim = 'è¯´æ˜ï¼šè¯·ä½ ä»”ç»†é˜…è¯»æ¯ä¸€é¢˜ï¼Œç„¶åæ ¹æ®ä½ è¿‘ä¸€å‘¨ï¼ˆåŒ…æ‹¬ä»Šå¤©ï¼‰çš„æ„Ÿè§‰ï¼Œé€‰æ‹©æœ€ç¬¦åˆä½ æœ¬äººæƒ…å†µçš„é€‰é¡¹ã€‚A.ä»ä¸ï¼›B.å¶å°”ï¼›C.æœ‰æ—¶ï¼›D.ç»å¸¸'
        }
        else if(nowPageIndex>=30 && nowPageIndex<=35){
          this.data.claim = 'è¯´æ˜ï¼šä¸‹åˆ—æ˜¯ä¸€äº›å¯èƒ½æ¶Œå…¥äººä»¬å¤´è„‘ä¸­çš„æƒ³æ³•ã€‚è¯·é€æ¡é˜…è¯»ï¼Œå›å¿†ä½ åœ¨æœ€è¿‘ä¸€å‘¨å†…æ˜¯å¦å‡ºç°è¿‡è¿™ç±»æƒ³æ³•ã€å…¶é¢‘åº¦å¦‚ä½•ï¼Œå¹¶é€‰æ‹©æœ€ç¬¦åˆä½ æƒ…å†µçš„é€‰é¡¹.A.ä»ä¸ï¼›B.å¶å°”ï¼›C.æœ‰æ—¶ï¼›D.ç»å¸¸ï¼›E.æŒç»­å­˜åœ¨'
        }
      }
      else if(this.data.title == 'selfEsteem'){
        this.data.claim = 'è¯´æ˜ï¼šè¯·ä½ ä»”ç»†é˜…è¯»æ¯ä¸€é¢˜ï¼Œé€‰æ‹©æœ€ç¬¦åˆä½ æœ¬äººæƒ…å†µçš„é€‰é¡¹ã€‚A.éå¸¸ç¬¦åˆï¼›B.ç¬¦åˆï¼›C.ä¸ç¬¦åˆï¼›D.éå¸¸ä¸ç¬¦åˆ'
      }
      else if(this.data.title == 'nervous'){
        this.data.claim = 'è¯´æ˜ï¼šè¯·ä»”ç»†é˜…è¯»æ¯ä¸€æ¡æ–‡å­—ï¼Œç„¶åæ ¹æ®æ‚¨æœ€è¿‘ä¸€æ˜ŸæœŸçš„å®é™…æƒ…å†µè¿›è¡Œé€‰æ‹©ã€‚ Aæ²¡æœ‰æˆ–å¾ˆå°‘æ—¶é—´ï¼›Bå°éƒ¨åˆ†æ—¶é—´ï¼›Cç›¸å½“å¤šæ—¶é—´ï¼›Dç»å¤§éƒ¨åˆ†æˆ–å…¨éƒ¨æ—¶é—´ã€‚ '
      }
      else if(this.data.title == 'weekStatus'){
        this.data.claim = 'è¯´æ˜ï¼šè¯·ä½ ä»”ç»†é˜…è¯»æ¯ä¸€é¢˜ï¼Œç„¶åæ ¹æ®ä½ è¿‘ä¸€å‘¨ï¼ˆåŒ…æ‹¬ä»Šå¤©ï¼‰çš„æ„Ÿè§‰ï¼Œé€‰æ‹©æœ€ç¬¦åˆä½ æœ¬äººæƒ…å†µçš„é€‰é¡¹ã€‚ A.ä»ä¸ï¼›B.å¶å°”ï¼›C.æœ‰æ—¶ï¼›D.ç»å¸¸'
      }
    },
    prev(e){
      var nowPageIndex = this.data.nowPageIndex - 1;
      if(nowPageIndex<0){
        nowPageIndex =0
        wx.showToast({
          title: 'å·²ç»æ˜¯æœ€å‰ä¸€é¡µ~',
          icon: 'none',
          duration: 1000,
        })
      }
      this.data.nowPageIndex = nowPageIndex
      this.claimChange()
      this.setData({
        nowPageIndex: nowPageIndex,
        claim: this.data.claim
      })
    },
    next(e){
      var nowPageIndex = this.data.nowPageIndex + 1;
      
      if(nowPageIndex>=this.data.group.length){
        nowPageIndex = this.data.group.length-1
        wx.showToast({
          title: 'å·²ç»æ˜¯æœ€åä¸€é¡µ~',
          icon: 'none',
          duration: 1000,
        })
      }
      this.data.nowPageIndex = nowPageIndex
      this.claimChange()
      this.setData({
        nowPageIndex: nowPageIndex,
        claim: this.data.claim
      })
    },
    finish(e){
      if(this.data.title == 'fiveDimension'&&this.data.answer.length >= 165 ||
         this.data.title == 'selfEsteem'&&this.data.answer.length >= 10 ||
         this.data.title == 'nervous'&&this.data.answer.length >= 20 ||
         this.data.title == 'weekStatus'&&this.data.answer.length >= 6
      ){
          var judge = true
          for(var i in this.data.answer){
            if(this.data.answer[i] == "0"){
              judge = false
              break;
            }
          }
          if(judge){
            // æ•°æ®å…¨éƒ¨æ”¶é›†å®Œæ¯•
            this.setData({
              finishDialogShow: true,
              finishDialogTitle: "æ‰€æœ‰é¢˜ç›®å·²å®Œæˆ~",
              finishDialogContent:"æ‚¨å·²å®Œæˆæ‰€æœ‰æµ‹è¯„é¢˜ç›®ï¼Œç¡®è®¤æäº¤å—",
            })
          }
          else{
            // æ•°æ®è¿˜æœªæ”¶é›†å®Œæ¯•
            this.setData({
              finishDialogShow: true,
              finishDialogTitle: "è¿˜æœ‰é¢˜ç›®æœªå®Œæˆ~",
              finishDialogContent:"å·²ä¸ºæ‚¨è‡ªåŠ¨ä¿å­˜å·²å®Œæˆçš„é¢˜ç›®ï¼Œä¿å­˜æ—¶é—´ä¸º24å°æ—¶ã€‚ç¡®è®¤è¦æš‚æ—¶ç¦»å¼€å—ï¼Ÿ",
            })
          }
      }
      
    },
    // å¼¹çª—æ¡†-ç¡®è®¤å–æ¶ˆé”®
    tapDialogButton(e) {
      const that = this
      if(e.detail.item.text=='ç¡®å®š'){
        var finish;
        if(this.data.finishDialogTitle == "æ‰€æœ‰é¢˜ç›®å·²å®Œæˆ~"){
          finish = true
        }
        else{
          finish = false
        }
        wx.cloud.callFunction({
          name: 'evaluationFinish',
          data:{
            isFinish: finish,
            data: this.data.answer.join(","),
            title: this.data.title,
          },
          success:function(res){
            console.log(res)
            if(that.data.title == 'fiveDimension'){
              if(finish){
                that.setData({
                  scaleFinish: true,
                })
              }
              else{
                // è¿”å›æµ‹è¯„é¡µ
                wx.switchTab({
                  url: '../../Evaluation/Evaluation',
                })
                wx.showToast({
                  title: 'ä¿å­˜æˆåŠŸ',
                  icon: 'success',
                  duration: 1500,
                })
              }
            }
            else{
              if(finish){
                if(that.data.title == 'selfEsteem'){
                  wx.redirectTo({
                    url: '../result/result?title=selfEsteem&result='+res.result.resResult,
                  })
                }
                else if(that.data.title == 'nervous'){
                  wx.redirectTo({
                    url: '../result/result?title=nervous&result='+res.result.resResult,
                  })
                }
                else if(that.data.title == 'weekStatus'){
                  wx.redirectTo({
                    url: '../result/result?title=weekStatus&result='+res.result.resResult,
                  })
                }   
              }
              else{
                // è¿”å›æµ‹è¯„é¡µ
                wx.switchTab({
                  url: '../../Evaluation/Evaluation',
                })
                wx.showToast({
                  title: 'ä¿å­˜æˆåŠŸ',
                  icon: 'success',
                  duration: 1500,
                })
              }
            }
            
          },
          fail:function(res){
            console.log(res)
          }
        })
        this.setData({
          finishDialogShow: false,
        })
      }
      else{
        this.setData({
          finishDialogShow: false,
        })
      }
    },
    chooseRearRadio(e){
      console.log(e.target.dataset.index)
      console.log(e.target.dataset.value)
      if(typeof(e.target.dataset.value) == "undefined"){
        console.log('yyyyyyy')
      }
      console.log(e.detail.value)
    },
    chooseFrontRadio(e){
      const that = this
      var index= e.target.dataset.index
      var value;
      if(typeof(e.target.dataset.value) == "undefined"){
        value = e.detail.value
      }
      else{
        value = e.target.dataset.value
      }
      console.log('index:'+index+' value:'+value)
      
      var nowItem = that.data.group[that.data.nowPageIndex]

      // æ›´æ”¹é€‰ä¸­ç­”æ¡ˆèƒŒæ™¯
      that.data.answer[index] = value
      that.setData({
        answer : that.data.answer
      })
      
      // è‡ªåŠ¨è·³è½¬
      for(var i in nowItem){
        var judge = true
        if(that.data.answer[nowItem[i]] == "0"){
          judge = false
          break;
        }
      }
      // è¿™ä¸€é¡µçš„å…¨éƒ½åšå®Œäº†
      if(judge){
        var judgeNotFinish = false;
        var newPage = parseInt(that.data.nowPageIndex);
        for(var i=newPage+1; i<that.data.group.length; i++){
          for(var j=0; j<that.data.group[i].length; j++){
            if(that.data.answer[that.data.group[i][j]] == "0"){
              newPage = i;
              judgeNotFinish = true;
              break;
            }
          }
          if(judgeNotFinish)
            break;
        }
        if(!judgeNotFinish){
          for(var i=0; i<newPage; i++){
            for(var j=0; j<that.data.group[i].length; j++){
              if(that.data.answer[that.data.group[i][j]] == "0"){
                newPage = i;
                judgeNotFinish = true;
                break;
              }
            }
            if(judgeNotFinish)
              break;
          }
        }
        if(!judgeNotFinish){
          that.data.scaleFinishStop = true;
        }
        that.data.nowPageIndex = newPage
        that.claimChange()
        that.setData({
          nowPageIndex: newPage,
          scaleFinishStop:  that.data.scaleFinishStop,
          claim: that.data.claim
        })
      }
      
      
      // console.log(that.data.answer)
    }
  }
})
